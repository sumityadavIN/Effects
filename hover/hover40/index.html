<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>locomotive-ca-hover | @Codegrid</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <h1>Featured Work</h1>
  <div class="container">
    <div class="item item-1">
      <div class="word w1">Pangram</div>
      <div class="img">
        <img src="./images/img1.jpg" alt="" />
      </div>
      <div class="word w2">Pangram</div>
    </div>
    <div class="item item-2">
      <div class="word w1">Bailat</div>
      <div class="img">
        <img src="./images/img2.jpg" alt="" />
      </div>
      <div class="word w2">Studio</div>
    </div>
    <div class="item item-3">
      <div class="word w1">Age of</div>
      <div class="img">
        <img src="./images/img3.jpg" alt="" />
      </div>
      <div class="word w2">Union</div>
    </div>
    <div class="item item-4">
      <div class="word w1">Not So</div>
      <div class="img">
        <img src="./images/img4.jpg" alt="" />
      </div>
      <div class="word w2">Violent</div>
    </div>
  </div>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const items = document.querySelectorAll(".item");

      items.forEach((item) => {
        item.addEventListener("mouseenter", shuffleAnimation);
      });
    });

    function getRandomCharacter() {
      const chars =
        "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
      return chars[Math.floor(Math.random() * chars.length)];
    }

    function shuffleAnimation(event) {
      const target = event.currentTarget;

      if (target.dataset.animating) {
        return;
      }

      target.dataset.animating = true;

      const words = target.querySelectorAll(".word");
      const originalWords = Array.from(words).map((word) => word.textContent);

      let shuffles = 0;
      const maxShuffles = 10;
      const intervalDuration = 500 / maxShuffles;

      let animationInterval = setInterval(() => {
        if (shuffles >= maxShuffles) {
          clearInterval(animationInterval);
          words.forEach((word, index) => {
            word.textContent = originalWords[index];
          });

          delete target.dataset.animating;
        } else {
          words.forEach((word) => {
            const length = word.textContent.length;
            let shuffledText = "";
            for (let i = 0; i < length; i++) {
              shuffledText += getRandomCharacter();
            }
            word.textContent = shuffledText;
          });
          shuffles++;
        }
      }, intervalDuration);
    }
  </script>
</body>

</html>